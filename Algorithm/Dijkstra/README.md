# Dijkstra (다익스트라)

> 데이크스트라 알고리즘 또는 다익스트라 알고리즘은 도로 교통망 같은 곳에서 나타날 수 있는 그래프에서 꼭짓점 간의 최단 경로를 찾는 알고리즘

다이나믹 프로그래밍을 활용한 대표적인 **최단 경로** 탐색 알고리즘

---

## 핵심 아이디어

> 하나의 최단 거리를 구할 때 그 이전까지 구했던 최단 거리 정보를 그대로 사용하는 특징

1. 단일 출발점 **최단경로** 를 구함

2. 그래프의 간선들이 비음수(≥0) 가정일 때만 정확함

3. **우선순위 큐(최소** 힙)를 사용해 현재까지 발견된 최단거리 후보 중 가장 짧은 정점을 선택하고, **그 정점에서 인접 간선을 완화(relax)하는 방식**

---

## 알고리즘 단계

```
// 의사코드
func dijkstra(start):
    dist = [INF]*V

    dist[start] = 0
    pq = minHeap()
    pq.push((0,start))

    while pq not empty:
        (d,u) = pq.pop()
        if d > dist[u]: continue

        for (v,w) in adj[u]:
            if dist[v] > d + w:
                dist[v] = d + w
                prev[v] = u
                pq.push((dist[v], v))

    return dist, prev
```

1. 출발점 `s` 에 `dist[s] = 0`, 나머지 `dist = ∞`

2. 우선순위 큐에 `(dist[s], s)` 를 넣음

3. 큐에서 가장 작은 `dist`를 가진 정점 `u`를 꺼냄

4. `u`가 이미 처리된(현재 꺼낸 거리보다 더 짧은 `dist`가 기록된) 경우 건너뜀

5. `u`의 모든 인접 `v` 에 대해 `if dist[v] > dist[u] + w(u,v)` 면 갱신하고 큐에 넣음

6. 큐가 빌 때까지 반복

---

## 시간복잡도

- 인접리스트 + 이진 힙: `O((V + E) log V)` (대개 `O(E log V)`로 표기)

- 인접행렬 사용 시: `O(V^2)` (작은 `V` 에선 괜찮음)

---

## 알면 좋은 것들

### 구현 팁 / 주의사항

- 가중치가 음수이면 다익스트라 금지

- 그래프 표현은 인접리스트 추천 (특히 `E`가 많은 경우)

- **우선순위 큐에** 서 꺼낼 때 현재 꺼낸 거리와 dist[node]를 비교해서 오래된(무의미한) 항목이면 무시

---

### 자주 나오는 유형

#### 1. 한 출발점에서 모든 정점 최단거리

*특정 정점에서 모든 정점까지의 최단거리 합 또는 최댓값 구하기*

- 풀이 아이디어: 다익스트라 한 번 실행 (단, 간선 방향/가중치 확인)

---

#### 2. 여러 출발점 / 다중 목적지(예: 물류, 택배)

*어떤 창고에서 여러 목적지에 가는 최소 비용 계산 또는 여러 집합(예: 후보들)을 각각 출발점으로 계산해야 할 때*

- 풀이 아이디어: 출발점 수가 적으면 출발점마다 다익스트라, 출발점이 많고 정점 수가 작으면 플로이드워셜 고려

---

#### 3. 중간 환승점 고르기(경유지 포함)

*출발 `A -> B -> 목적지` , `B` 를 거쳐야 할 때 전체 최단거리. 또는 두 명이 만나기 좋은 최적의 만나는 지점(최소 합거리)*

- 풀이 아이디어: 출발점에서 모든 정점까지 다익스트라, 목적지에서 모든 정점까지 다익스트라(또는 역그래프). 두 결과 조합

---

## 대표 문제

- [Programmers - 가장 먼 노드](https://school.programmers.co.kr/learn/courses/30/lessons/49189)

- [Programmers - 합승 택시 요금](https://school.programmers.co.kr/learn/courses/30/lessons/72413)

## 참고

- [위키백과 - 데이크스트라 알고리즘](https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%ED%81%AC%EC%8A%A4%ED%8A%B8%EB%9D%BC_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)

- [블로그 참고  - 다익스트라 알고리즘(안경잡이 개발자)](https://m.blog.naver.com/ndb796/221234424646)